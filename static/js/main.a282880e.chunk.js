(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,n){e.exports=n(328)},131:function(e,t,n){},135:function(e,t,n){},180:function(e,t){},211:function(e,t){},213:function(e,t){},245:function(e,t){},328:function(e,t,n){"use strict";n.r(t);var a,o,r=n(0),s=n.n(r),c=n(117),i=n.n(c),l=(n(131),n(121)),u=n(11),m=n(58),d=n.n(m),p=n(118),h=n(59),f=n(119),y=n(63),b=n(60),w=n(62),g=(n(135),n(61)),v=n(39),E=n.n(v),k=n(120),x=n.n(k),S=1,O="0xEFD660223d035Cc42Cf892b393b34a12a0adF23c",N="SC1H6JHAK19WC1D3BGV3JWIFD983E7BS58",j={extTx:"https://api.etherscan.io/api?module=account&action=txlistinternal&address="+O+"&startblock=0&endblock=99999999&sort=asc&apikey="+N,intTx:"https://api.etherscan.io/api?module=account&action=txlist&address="+O+"&startblock=0&endblock=99999999&sort=asc&apikey="+N},A=function(e){return function(t){return t.from.toLowerCase().includes(e.toLowerCase())}},T=[{constant:!1,inputs:[{name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"",type:"bytes32"}],name:"poke",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[],name:"poke",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"compute",outputs:[{name:"",type:"bytes32"},{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"wat",type:"address"}],name:"set",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"wat",type:"address"}],name:"unset",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"indexes",outputs:[{name:"",type:"bytes12"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"next",outputs:[{name:"",type:"bytes12"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"read",outputs:[{name:"",type:"bytes32"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"peek",outputs:[{name:"",type:"bytes32"},{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes12"}],name:"values",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"min_",type:"uint96"}],name:"setMin",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"void",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"pos",type:"bytes12"},{name:"wat",type:"address"}],name:"set",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"pos",type:"bytes12"}],name:"unset",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"next_",type:"bytes12"}],name:"setNext",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"min",outputs:[{name:"",type:"uint96"}],payable:!1,type:"function"},{anonymous:!0,inputs:[{indexed:!0,name:"sig",type:"bytes4"},{indexed:!0,name:"guy",type:"address"},{indexed:!0,name:"foo",type:"bytes32"},{indexed:!0,name:"bar",type:"bytes32"},{indexed:!1,name:"wad",type:"uint256"},{indexed:!1,name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"}],name:"LogSetOwner",type:"event"}],C=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={price:0},n.getPrice=Object(p.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new E.a(window.web3.currentProvider)).eth.defaultAccount=window.web3.eth.defaultAccount,t=new o.eth.Contract(T,"0x729D19f657BD0614b4985Cf1D82531c67569197B"),e.next=5,t.methods.peek().call().then(function(e){return e});case 5:if(a=e.sent,console.log(a),!0!==a[1]){e.next=11;break}return e.abrupt("return",n.setState({price:parseFloat(o.utils.fromWei(parseInt(a[0]).toString(),"ether"))}));case 11:alert("The Maker Oracle price is invalid! Please reload for valid price later");case 12:case"end":return e.stop()}},e,this)})),n.componentDidMount=function(){n.getPrice()},n}return Object(w.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=parseFloat(this.state.price)*parseFloat(this.props.amount);return s.a.createElement("div",null,e.toFixed(2)," USD")}}]),t}(s.a.PureComponent),D=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(y.a)(this,Object(b.a)(t).call(this,e))).onSearchChange=function(e){n.setState({searchTerm:e.target.value})},n.subscribe=function(e){var t=new WebSocket("wss://socket.etherscan.io/wshandler");t.onopen=function(){this.setState({socketconnected:!0}),function(e){var t=setInterval(function(){1===e.readyState&&e.send(JSON.stringify({event:"ping"}))},2e4)}(t),t.send(JSON.stringify({event:"txlist",address:e}))}.bind(Object(u.a)(Object(u.a)(n))),t.onmessage=function(e){var t=this,n=JSON.parse(e.data);if(console.log(n),"txlist"===n.event){var a=this.state.transactionsArray.concat(n.result);this.setState({transactionsArray:a},function(){t.processEthList(a)})}}.bind(Object(u.a)(Object(u.a)(n))),t.onerror=function(e){this.setState({socketerror:e.message,socketconnected:!1})}.bind(Object(u.a)(Object(u.a)(n))),t.onclose=function(){this.setState({socketerror:"socket closed",socketconnected:!1})}.bind(Object(u.a)(Object(u.a)(n)))},n.getAccountData=function(){var e=[fetch("".concat(j.extTx)),fetch("".concat(j.intTx))];return Promise.all(e).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(e){var t;return(t=[].concat).apply.apply(t,Object(l.a)(e.map(function(e){return e.result})))})},n.handleDonate=function(e){e.preventDefault();var t=e.target,o=new a.utils.BN(a.utils.toWei(t.elements.amount.value,"ether")),r=a.utils.toHex(t.elements.message.value),s=68*t.elements.message.value.length;a.eth.net.getId().then(function(e){switch(e){case 1:console.log("Metamask is on mainnet");break;case 2:console.log("Metamask is on the deprecated Morden test network.");break;case 3:console.log("Metamask is on the ropsten test network.");break;case 4:console.log("Metamask is on the Rinkeby test network.");break;case 42:console.log("Metamask is on the Kovan test network.");break;default:console.log("Metamask is on an unknown network.")}if(e===S)return a.eth.getAccounts().then(function(e){return a.eth.sendTransaction({from:e[0],to:O,value:o,gas:15e4+s,data:r}).catch(function(e){console.log(e)})});console.log("no donation allowed on this network"),n.setState({donateenabled:!1})})},n.processEthList=function(e){var t=e.map(function(e){return e.value=new a.utils.BN(e.value),e}).reduce(function(e,t){return"0"!==t.isError?e:t.from===O.toLowerCase()?e:("undefined"===typeof e[t.from]&&(e[t.from]={from:t.from,value:new a.utils.BN(0),input:t.input,hash:[]}),e[t.from].value=t.value.add(e[t.from].value),e[t.from].input="0x"!==t.input&&"0x00"!==t.input?t.input:e[t.from].input,e[t.from].hash.push(t.hash),e)},{}),o=(t=Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return t.value.cmp(e.value)}).map(function(e,t){return e.rank=t+1,e})).reduce(function(e,t){return e.add(t.value)},new a.utils.BN(0));return n.setState({ethlist:t,totalAmount:parseFloat(a.utils.fromWei(o)).toFixed(2)})},n.componentDidMount=function(){"undefined"!==typeof window.web3&&"undefined"!==typeof window.web3.currentProvider?((a=new E.a(window.web3.currentProvider)).eth.defaultAccount=window.web3.eth.defaultAccount,n.setState({candonate:!0})):(n.setState({candonate:!1}),a=new E.a),n.getAccountData().then(function(e){n.setState({transactionsArray:e},function(){n.processEthList(e),n.subscribe(O)})})},n.render=function(){var e=n.state.candonate,t=Object(g.css)({"@media(max-width: 700px)":{"flex-wrap":"wrap"}}),o=Object(g.css)({"@media(max-width: 700px)":{display:"none"}});return s.a.createElement("div",{className:"App container-fluid"},s.a.createElement("div",Object.assign({},t,{className:"flex-row d-flex justify-content-around"}),s.a.createElement("div",{className:"flex-column introColumn"},s.a.createElement("div",{className:"introContainer"},s.a.createElement("h1",null,"EthSecurity Logo Funding Event"),s.a.createElement("h4",null,"This simple drive is to generate a logo for EthSecurity.  The resulting logo will \n                be used at our first ever Hackathon table at EthDenver.  The goal is for $500. \n                There will be a subsequent fundraiser for the branded swag.  We don't know how \n                much we need yet.  Ideas are welcome. "),s.a.createElement("h4",null,"Thank-you for your support and making \n                EthSecurity grow! "),s.a.createElement("hr",null),s.a.createElement("h6",null,s.a.createElement("strong",null,"DISCLAIMERS:")),s.a.createElement("h6",null,"Funds will be handled by Rex Hygate."),s.a.createElement("h6",null,"ERC20 tokens will be accepted but will not show up on the leaderboard."),s.a.createElement("h6",null,"You are trusting Rex to deliver funds appropriately, he holds the private keys."),s.a.createElement("h6",null,"For questions, comments, concerns please contact ",s.a.createElement("a",{href:"mailto:rex2@hygate.com"},"Rex")," or ",s.a.createElement("a",{href:"mailto:corey@status.im"},"Corey")),s.a.createElement("hr",null),s.a.createElement("h6",null,"Forked with <3 from the Unicorns at ",s.a.createElement("a",{href:"https://giveth.io"},"Giveth")),s.a.createElement("h6",null,"NOTE: Leaderboard does not hotload, refresh page after txn confirmation to see it.")),s.a.createElement("div",Object.assign({},t,{className:"flex-row d-flex amount"}),s.a.createElement("div",{className:"flex-column margin"},s.a.createElement("strong",null,"Amount donated "),s.a.createElement("h3",null,n.state.totalAmount," ETH ",s.a.createElement(C,{amount:n.state.totalAmount,web3:a}))),s.a.createElement("div",{className:"flex-column margin"},s.a.createElement("form",{className:"Search"},s.a.createElement("input",{type:"text",onChange:n.onSearchChange,placeholder:"filter leaderboard"}))))),s.a.createElement("div",{className:"flex-column donationColumn"},s.a.createElement("img",{src:"/img/ways-to-donate.svg",className:"typelogo img-fluid"}),e?s.a.createElement("div",{className:"donation"},s.a.createElement("h4",o,"Publicly: Send a transaction via ",s.a.createElement("a",{href:"https://metamask.io"},"Metamask")," with your name (or something else) as a message "),s.a.createElement("h4",null,"All donations with the same address will be added together."),s.a.createElement("form",Object.assign({},o,{onSubmit:n.handleDonate}),s.a.createElement("input",{type:"text",placeholder:"ETH to donate",name:"amount"}),s.a.createElement("input",{type:"text",placeholder:"message",name:"message"}),s.a.createElement("button",{className:"btn btn-primary donation-button"},"Send"))):s.a.createElement("br",null),s.a.createElement("p",null,"NOTE: The Message field is pulled from the latest transaction.  Sending zero-value transactions will update the field"),s.a.createElement("hr",null),s.a.createElement("h4",null,"Privately: Send directly to the donation address"),s.a.createElement("img",{src:"/img/Address-QR.png",className:"qr-code"}),s.a.createElement("div",{className:"word-wrap"},s.a.createElement("strong",null,O)),s.a.createElement("hr",null))),s.a.createElement("div",{className:"flex-column leaderboard"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",{className:"pagination-centered"},s.a.createElement("tr",null,s.a.createElement("th",null,"Rank"),s.a.createElement("th",null,"Address"),s.a.createElement("th",null,"Value"),s.a.createElement("th",null,"Message"),s.a.createElement("th",null,"Tx Link"))),s.a.createElement("tbody",null,n.state.ethlist.filter(A(n.state.searchTerm)).map(function(e){return s.a.createElement("tr",{key:e.hash,className:"Entry"},s.a.createElement("td",null,e.rank," "),s.a.createElement("td",null,e.from," "),s.a.createElement("td",null,a.utils.fromWei(e.value)," ETH"),s.a.createElement("td",null,s.a.createElement(x.a,null,e.input.length&&a.utils.hexToAscii(e.input))),s.a.createElement("td",{className:"table-tx-header"},e.hash.map(function(e,t){return s.a.createElement("a",{key:t,href:"https://etherscan.io/tx/"+e},"[",t+1,"]")})))})))))},n.state={ethlist:[],searchTerm:"",donateenabled:!0,socketconnected:!1,totalAmount:0},n}return Object(w.a)(t,e),t}(r.Component),L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(s.a.createElement(D,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");L?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):M(e)})}}()}},[[122,2,1]]]);
//# sourceMappingURL=main.a282880e.chunk.js.map